scheduler.config.limit_start=new Date(-3999,0,0);scheduler.config.limit_end=new Date(3999,0,0);scheduler.config.limit_view=!1;
(function(){var e=null,n={},o={},l=!1;scheduler.blockTime=function(b,a,c){var d=this.config.first_hour*60,h=this.config.last_hour*60;a=="fullday"&&(a=[d,h]);typeof b=="object"?n[this.date.date_part(b).valueOf()]=a:o[b]=a;for(var g=0;g<a.length;g+=2)a[g]<d&&(a[g]=d),a[g+1]>h&&(a[g+1]=h);a._sections=c||null;l=!0};scheduler.attachEvent("onScaleAdd",function(b,a){var c=!1,d=this._mode;if(this._props&&this._props[d])var h=this._props[d],g=h.options,f=(h.position||0)+Math.floor((this._correct_shift(a.valueOf(),
1)-this._min_date.valueOf())/864E5),r=g[f],c="units",a=this._date;var j=n[a.valueOf()]||o[a.getDay()];if(j)for(var i=0;i<j.length;i+=2){if(c){var e=!1,k=j._sections[d],l=r.key;if(k&&(e=l==k,!e&&k.constructor&&k.constructor.toString().indexOf("Array")!=-1))for(var p=0;p<k.length;p++){var s=k[p];s==l&&(e=!0)}if(!e)break}var q=j[i],t=j[i+1],m=document.createElement("DIV");m.className="dhx_time_block";var u;m.style.top=Math.round((q*6E4-this.config.first_hour*36E5)*this.config.hour_size_px/36E5)%(this.config.hour_size_px*
24)+"px";m.style.height=Math.round((t-q-1)*6E4*this.config.hour_size_px/36E5)%(this.config.hour_size_px*24)+"px";b.appendChild(m)}});scheduler.attachEvent("onBeforeViewChange",function(b,a,c,d){d=d||a;c=c||b;return scheduler.config.limit_view&&(d.valueOf()>scheduler.config.limit_end.valueOf()||this.date.add(d,1,c)<=scheduler.config.limit_start.valueOf())?(setTimeout(function(){scheduler.setCurrentView(scheduler._date,c)},1),!1):!0});var f=function(b){var a=scheduler.config,c=b.start_date.valueOf()>=
a.limit_start.valueOf()&&b.end_date.valueOf()<=a.limit_end.valueOf();if(c&&l&&b._timed){var d=scheduler.date.date_part(new Date(b.start_date.valueOf())),h=n[d.valueOf()]||o[d.getDay()],g=b.start_date.getHours()*60+b.start_date.getMinutes(),e=b.end_date.getHours()*60+b.end_date.getMinutes();if(h)for(var f=0;f<h.length;f+=2){var j=h[f],i=h[f+1];if(j<e&&i>g){if(g<=i&&g>=j){if(i==1440||e<i){c=!1;break}if(scheduler._drag_id&&scheduler._drag_mode=="new-size")b.start_date.setHours(0),b.start_date.setMinutes(i);
else{c=!1;break}}if(e>=j&&e<i)if(scheduler._drag_id&&scheduler._drag_mode=="new-size")b.end_date.setHours(0),b.end_date.setMinutes(j);else{c=!1;break}}}}if(!c)scheduler._drag_id=null,scheduler._drag_mode=null,scheduler.callEvent("onLimitViolation",[b.id,b]);return c};scheduler.attachEvent("onBeforeDrag",function(b){return!b?!0:f(scheduler.getEvent(b))});scheduler.attachEvent("onClick",function(b){return f(scheduler.getEvent(b))});scheduler.attachEvent("onBeforeLightbox",function(b){var a=scheduler.getEvent(b);
e=[a.start_date,a.end_date];return f(a)});scheduler.attachEvent("onEventAdded",function(b){if(!b)return!0;var a=scheduler.getEvent(b);if(!f(a)){if(a.start_date<scheduler.config.limit_start)a.start_date=new Date(scheduler.config.limit_start);if(a.start_date.valueOf()>=scheduler.config.limit_end.valueOf())a.start_date=this.date.add(scheduler.config.limit_end,-1,"day");if(a.end_date<scheduler.config.limit_start)a.end_date=new Date(scheduler.config.limit_start);if(a.end_date.valueOf()>=scheduler.config.limit_end.valueOf())a.end_date=
this.date.add(scheduler.config.limit_end,-1,"day");if(a.start_date.valueOf()>=a.end_date.valueOf())a.end_date=this.date.add(a.start_date,this.config.event_duration||this.config.time_step,"minute");a._timed=this.is_one_day_event(a)}return!0});scheduler.attachEvent("onEventChanged",function(b){if(!b)return!0;var a=scheduler.getEvent(b);if(!f(a)){if(!e)return!1;a.start_date=e[0];a.end_date=e[1];a._timed=this.is_one_day_event(a)}return!0});scheduler.attachEvent("onBeforeEventChanged",function(b){return f(b)})})();
